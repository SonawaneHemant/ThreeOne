<div class="container">
    <h2 class="mt-3">Add Blog Post</h2>
    <form #form="ngForm" (ngSubmit)="onAddBlogpostSubmit(form)">
        <div class="mt-2 mb-5">

            <div class="mt-3">
                <label for="title" class="form-label">Title</label>
                <input type="text" id="title" class="form-control" name="title" [(ngModel)]="modelAddBlogPost.title" />
            </div>

            <!-- UrlHandel -->
            <div class="mt-3">
                <label for="urlHandel" class="form-label">URL Handle</label>
                <input type="text" id="urlHandel" class="form-control" name="urlHandel"
                    [(ngModel)]="modelAddBlogPost.urlHandel" />
            </div>

            <!-- ShortDescription -->
            <div class="mt-3">
                <label for="shortDescription" class="form-label">Short Description</label>
                <input id="shortDescription" class="form-control" name="shortDescription"
                    [(ngModel)]="modelAddBlogPost.shortDescription">
            </div>

            <!-- Content -->
            <div class="mt-3">
                <label for="content" class="form-label">Content</label>
                <!-- <textarea id="content" class="form-control" name="content" rows="5"
                    [(ngModel)]="modelAddBlogPost.content"></textarea> -->
                <div class="d-flex flex-row">
                    <div class="col-6 p-2">
                        <textarea id="content" class="form-control" name="content" rows="10"
                            style="height: 350px; max-height:350px;" [(ngModel)]="modelAddBlogPost.content"></textarea>
                    </div>
                    <div class="col-6 p-2" style="max-height: 350px; overflow-y:scroll;">
                        <!-- <markdown [data]="'# Hello Markdown'"></markdown> -->
                        <markdown [data]="modelAddBlogPost.content"></markdown>
                    </div>
                </div>
            </div>

            <!-- FeaturedImageUrl -->
            <div class="mt-3">
                <label for="featuredImageUrl" class="form-label">Featured Image URL</label>
                <ng-container *ngIf="modelAddBlogPost.featuredImageUrl !== ''">
                    <div class="mb-2">
                        <img [src]="modelAddBlogPost.featuredImageUrl" alt="Featured Image" class="my-2" height="100" />
                    </div>
                </ng-container>

                <input type="text" id="featuredImageUrl" class="form-control" name="featuredImageUrl"
                    [(ngModel)]="modelAddBlogPost.featuredImageUrl" />
            </div>



            <!-- PublishedDate -->
            <div class="mt-3">
                <label for="publishedDate" class="form-label">Published Date</label>
                <input type="date" id="publishedDate" class="form-control" name="publishedDate"
                    value="{{ modelAddBlogPost.publishedDate }}"
                    [ngModel]="modelAddBlogPost.publishedDate | date:'yyyy-MM-dd' "
                    (ngModelChange)="modelAddBlogPost.publishedDate = $event" />
            </div>

            <!-- Auther -->
            <div class="mt-3">
                <label for="auther" class="form-label">Author</label>
                <input type="text" id="auther" class="form-control" name="auther"
                    [(ngModel)]="modelAddBlogPost.auther" />
            </div>

            <!-- IsVisible -->
            <div class="mt-3 form-check">
                <input type="checkbox" id="isVisible" class="form-check-input" name="isVisible"
                    [(ngModel)]="modelAddBlogPost.isVisible" />
                <label for="isVisible" class="form-check-label">Is Visible?</label>
            </div>

            <!-- CategorysList -->
            <div class="mt-3">
                <label for="categories" class="form-label">Categories</label>
                <ng-container *ngIf="categoriesList$ | async as categoriesList">
                    <select id="categories" class="form-select" name="categoriesIDList" multiple
                        [(ngModel)]="modelAddBlogPost.categoriesIDList">
                        <option *ngFor="let category of categoriesList" [ngValue]="category.id">
                            {{ category.name }}
                        </option>
                    </select>
                </ng-container>
            </div>

            <div class="mt-3 d-flex gap-3">
                <button type="submit" class="btn btn-primary">
                    Save
                </button>

                <!-- <button type="button" class="btn btn-secondary" (click)="onCancel()">
                    Cancel
                </button> -->
            </div>
        </div>
    </form>
</div>